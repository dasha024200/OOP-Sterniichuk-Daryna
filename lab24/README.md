Лабораторна робота №24
Тема: Strategy + Observer: динамічна підстановка алгоритмів + тести
Мета роботи
Застосувати поведінкові патерни проєктування Strategy та Observer для створення гнучкої системи обробки числових даних з можливістю динамічної зміни алгоритмів та автоматичного сповіщення залежних компонентів про результати обчислень. Також реалізувати юніт-тестування основної функціональності.
Реалізація патерну Strategy
Патерн Strategy дозволяє змінювати алгоритм виконання під час роботи програми без зміни клієнтського коду.
Було створено інтерфейс INumericOperationStrategy, який містить метод:
double Execute(double value)
На його основі реалізовано три конкретні стратегії:
SquareOperationStrategy – обчислює квадрат числа
CubeOperationStrategy – обчислює куб числа
SquareRootOperationStrategy – обчислює квадратний корінь числа
Клас NumericProcessor виступає контекстом. Він приймає стратегію через конструктор та дозволяє змінювати її за допомогою методу SetStrategy. Метод Process делегує виконання поточній стратегії.
Таким чином забезпечується гнучкість та розширюваність системи.
Реалізація патерну Observer
Патерн Observer реалізовано за допомогою механізму подій C#.
Клас ResultPublisher є суб’єктом (Subject) та містить подію:
Action<double, string> ResultCalculated
Метод PublishResult викликає цю подію після обчислення результату.
Було створено три спостерігачі:
ConsoleLoggerObserver – виводить результат та назву операції в консоль
HistoryLoggerObserver – зберігає історію результатів у списку
ThresholdNotifierObserver – повідомляє, якщо результат перевищує заданий поріг
Усі спостерігачі підписуються на подію ResultCalculated.
Демонстрація роботи
У методі Main:
– створено екземпляри NumericProcessor та ResultPublisher
– створено кілька спостерігачів
– виконано підписку на подію
– встановлено різні стратегії
– виконано обробку чисел
– після кожного обчислення викликано PublishResult
Спостерігачі автоматично отримують повідомлення про нові результати.
Юніт-тестування
Було створено окремий тестовий проєкт lab24.Tests.
Тести перевіряють коректність роботи стратегій.
Запуск тестів виконується командою:
dotnet test
Висновок
У ході лабораторної роботи було реалізовано два поведінкові патерни Strategy та Observer.
Патерн Strategy забезпечує можливість динамічної зміни алгоритмів обробки чисел.
Патерн Observer дозволяє автоматично повідомляти залежні компоненти про зміни стану системи.
Робота демонструє принципи слабкого зв’язування, розширюваності та гнучкої архітектури програмного забезпечення.