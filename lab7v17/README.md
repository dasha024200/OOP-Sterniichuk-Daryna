Контрольні питання

1. Які типи винятків найчастіше виникають при роботі з файлами та мережею?
Винятки при роботі з файлами:
FileNotFoundException — файл не знайдено.
DirectoryNotFoundException — каталог не знайдено.
IOException — загальна помилка вводу/виводу (файл зайнятий, немає доступу, збій диску).
Винятки при роботі з мережею:
HttpRequestException — помилки HTTP-запитів (сервер недоступний, тайм-аут).
SocketException — низькорівневі помилки роботи сокетів (порушення з’єднання, відмова порту).

2. Поясніть принцип роботи патерну Retry. Коли його доцільно використовувати?
Патерн Retry — це механізм, який повторює операцію кілька разів у випадку тимчасової помилки.
Якщо операція може не спрацювати з першої спроби (наприклад, тимчасовий збій мережі), ми пробуємо знову через певну затримку.
Патерн доцільно використовувати, коли:
помилка тимчасова (нестабільний інтернет, заблокований файл);
операція ідемпотентна (її можна безпечно повторювати);
виконується мережевий запит, робота з файлами, БД чи API.

3. Як реалізувати експоненційну затримку між повторними спробами?
Експоненційна затримка означає, що кожного разу час очікування збільшується вдвічі:
initialDelay * 2^(n-1)
Приклад для затримки у 500 мс:
Спроба 1 - Затримка 500мс
Спроба 2 - Затримка 1000мс
Спроба 3 - Затримка 2000мс
Спроба 4 - Затримка 4000мс
У коді:
double factor = Math.Pow(2, attempt - 1);
var delay = TimeSpan.FromMilliseconds(initialDelay.TotalMilliseconds * factor);
Thread.Sleep(delay);
4. Для чого потрібен делегат shouldRetry у допоміжному класі RetryHelper?
shouldRetry — це функція, яка визначає, чи треба повторювати спробу для конкретного винятку.
наприклад: ex => ex is IOException || ex is HttpRequestException 
Це означає що повторюємо для IOException
Повторюємо для HttpRequestException
Не повторюємо для інших помилок (наприклад, ArgumentException)
Таким чином, shouldRetry дозволяє контролювати логіку Retry і уникати безглуздих повторів там, де вони не допоможуть.